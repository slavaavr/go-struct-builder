--- source code ---

			package main

			import "github.com/samber/mo"
			import "time"
	
			//go:generate gosb -source=input.go -features=ptr,arr,opt
			type A struct {
				F1 *time.Time
				F2 []int
				F3 mo.Option[int]
				F4 mo.Option[int] `gosb:"required"`
			}


--- generated code ---

// Code generated by go-struct-builder. DO NOT EDIT.
// Source: input.go

package main

import (
	"errors"
	"time"

	"github.com/samber/mo"
)

type ABuilder struct {
	x    *A
	mask []byte
}

func NewABuilder() *ABuilder {
	/**
	Required fields:
	1) F2 []int
	2) F4 mo.Option[int]
	*/

	return &ABuilder{
		x:    new(A),
		mask: []byte{0x6},
	}
}

func (b *ABuilder) SetF1(v *time.Time) *ABuilder {
	b.x.F1 = v
	return b
}

func (b *ABuilder) SetF1V(v time.Time) *ABuilder {
	b.x.F1 = &v
	return b
}

func (b *ABuilder) SetF2(v []int) *ABuilder {
	b.x.F2 = v
	b.mask[1/8] &= ^uint8(1 << 1 % 8)
	return b
}

func (b *ABuilder) SetF2V(v ...int) *ABuilder {
	b.x.F2 = append(b.x.F2, v...)
	b.mask[1/8] &= ^uint8(1 << 1 % 8)
	return b
}

func (b *ABuilder) SetF3(v mo.Option[int]) *ABuilder {
	b.x.F3 = v
	return b
}

func (b *ABuilder) SetF3V(v int) *ABuilder {
	b.x.F3 = mo.Some(v)
	return b
}

func (b *ABuilder) SetF4(v mo.Option[int]) *ABuilder {
	b.x.F4 = v
	b.mask[2/8] &= ^uint8(1 << 2 % 8)
	return b
}

func (b *ABuilder) SetF4V(v int) *ABuilder {
	b.x.F4 = mo.Some(v)
	b.mask[2/8] &= ^uint8(1 << 2 % 8)
	return b
}

func (b *ABuilder) Build() (*A, error) {
	if (b.mask[1/8] & (1 << 1 % 8)) != 0 {
		return nil, errors.New("A.F2 field is not provided")
	}

	if (b.mask[2/8] & (1 << 2 % 8)) != 0 {
		return nil, errors.New("A.F4 field is not provided")
	}

	return b.x, nil
}
